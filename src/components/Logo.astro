---
/**
 * Logo â€” Reusable brand mark with the living cursor.
 * Used in the site-wide nav bar, home page, and 404 page.
 *
 * The `as` prop controls the rendered HTML element:
 * - "h1" (default) for page-level headings (404 page)
 * - "span" for inline contexts (nav bar brand link)
 */
interface Props {
  text: string;
  as?: "h1" | "span";
  class?: string;
}

const { text, as: Tag = "h1", class: className } = Astro.props;
---

<Tag class:list={["logo", className]}>
  {text}<span class="cursor">_</span>
</Tag>

<style>
  .logo {
    font-family: var(--font-mono-brand);
    font-size: var(--font-size-h1);
    font-weight: 400;
    margin: 0;
    letter-spacing: -0.04em;
    line-height: var(--line-height-tight);
    color: var(--color-text);
    display: flex;
    align-items: baseline;
  }

  .cursor {
    display: inline-block;
    color: var(--color-primary);
    margin-left: 0.05em;
    animation: blink 1s step-end infinite;
    width: 0.6em;
    text-align: center;
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }

  @media (prefers-reduced-motion: reduce) {
    .cursor {
      animation: none;
    }
  }
</style>
